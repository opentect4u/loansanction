"use strict";(self.webpackChunkpurdcsloan=self.webpackChunkpurdcsloan||[]).push([[209],{3041:(e,l,a)=>{a.d(l,{O:()=>n});const n="https://efilebk.purdcs.com"},8834:(e,l,a)=>{a.d(l,{A:()=>s});a(5043);var n=a(617),d=a(8143),o=a(1966),i=a(3727),t=a(6219),r=a(579);const s=function(e){let{onReset:l,mode:a,onDelete:s,rejectBtn:m,onReject:u,sendToText:c,onSendTo:h,condition:_,showSave:v}=e;return(0,r.jsxs)("div",{className:"flex justify-center",children:["A"==a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{type:"reset",className:"inline-flex items-center px-5 py-2.5 mt-4 mr-2 sm:mt-6 text-sm font-medium text-center text-gray-800 border border-yellow-300 bg-yellow-300 transition ease-in-out hover:bg-yellow-200 duration-300 rounded-full  dark:focus:ring-primary-900",onClick:l,children:[(0,r.jsx)(n.A,{className:"mr-2"}),"Reset"]}),(0,r.jsxs)("button",{type:"submit",className:" disabled:bg-gray-400 disabled:dark:bg-gray-400 inline-flex items-center px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-[#6457A6] transition ease-in-out hover:bg-[#4e4480] duration-300  rounded-full focus:ring-gray-600  dark:focus:ring-primary-900 dark:bg-[#92140C] dark:hover:bg-gray-600",children:[(0,r.jsx)(d.A,{className:"mr-2"}),"Submit"]})]}),"E"==a&&(0,r.jsxs)("button",{type:"button",className:"inline-flex items-center px-5 py-2.5 mt-4 mr-2 sm:mt-6 text-sm font-medium text-center text-white border border-[#92140C] bg-[#92140C] transition ease-in-out hover:bg-[#a73b34] duration-300 rounded-full  dark:focus:ring-primary-900",onClick:s,children:[(0,r.jsx)(o.A,{className:"mr-2"}),"Delete"]}),_&&m&&(0,r.jsxs)("button",{type:"button",className:"inline-flex items-center px-5 py-2.5 mt-4 mr-2 sm:mt-6 text-sm font-medium text-center text-white border border-[#92140C] bg-[#92140C] transition ease-in-out hover:bg-[#a73b34] duration-300 rounded-full  dark:focus:ring-primary-900",onClick:u,children:[(0,r.jsx)(i.A,{className:"mr-2"}),"Reject"]}),v&&(0,r.jsxs)("button",{type:"submit",className:" disabled:bg-gray-400 disabled:dark:bg-gray-400 inline-flex items-center px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-[#6457A6] transition ease-in-out hover:bg-[#4e4480] duration-300  rounded-full focus:ring-gray-600  dark:focus:ring-primary-900 dark:bg-[#92140C] dark:hover:bg-gray-600",children:[(0,r.jsx)(d.A,{className:"mr-2"}),"Save Application"]}),_&&"S"===a&&(0,r.jsxs)("button",{type:"button",className:" disabled:bg-gray-400 disabled:dark:bg-gray-400 inline-flex items-center px-5 ml-2 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-green-600 transition ease-in-out hover:bg-green-800 duration-300  rounded-full focus:ring-gray-600  dark:focus:ring-primary-900 dark:bg-[#92140C] dark:hover:bg-gray-600",onClick:h,children:[(0,r.jsx)(t.A,{className:"mr-2"}),"Send to ",c]})]})}},1417:(e,l,a)=>{a.d(l,{A:()=>m});a(5043);var n=a(3216),d=a(9678),o=a(9120),i=a(7297),t=a(4623),r=a(579);const s=function(){const e=(0,n.Zp)();return(0,r.jsxs)("div",{className:"-ml-5",children:[(0,r.jsx)(i.A,{icon:(0,r.jsx)(o.A,{}),className:"sm:hidden",onClick:()=>e(-1),type:"primary",style:{right:22,bottom:170,height:50,width:50}}),(0,r.jsx)(t.P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.3,type:"just"},className:"hidden sm:flex sm:justify-end items-center",children:(0,r.jsx)(d.A,{title:"Back",children:(0,r.jsx)("button",{className:" inline-flex items-center justify-center text-sm font-medium text-center text-red-800 bg-primary-700 h-10 w-10  bg-yellow-300 hover:duration-300 delay-150 ease-in-out rounded-full hover:rounded-xl dark:focus:ring-primary-900 dark:bg-[#d14141] dark:hover:bg-gray-600 dark:focus:ring-primary-900 hover:bg-primary-800",onClick:()=>e(-1),children:(0,r.jsx)(o.A,{})})})})]})};a(3286);const m=function(e){let{text:l,mode:a=0,data:n,title:d}=e;return(0,r.jsx)("div",{className:"bg-transparent dark:bg-gray-800 relative overflow-hidden mb-5",children:(0,r.jsxs)("div",{className:0===a?"flex flex-col bg-red-800 dark:bg-red-800 w-full md:flex-row items-center align-middle justify-start gap-3 space-x-2 px-8 rounded-full py-3":1===a?"flex flex-col bg-blue-800 dark:bg-blue-800 w-full md:flex-row items-center align-middle justify-start gap-3 space-x-2 px-8 rounded-full py-3":2===a?"flex flex-col bg-teal-800 dark:bg-teal-800 w-full md:flex-row items-center align-middle justify-start gap-3 space-x-2 px-8 rounded-full py-3":"flex flex-col bg-slate-800 dark:bg-slate-800 w-full md:flex-row items-center align-middle justify-start gap-3 space-x-2 px-8 rounded-full py-3",children:[(0,r.jsx)(s,{}),(0,r.jsx)(t.P.h2,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{delay:.2,type:"just"},className:"md:text-2xl sm:text-xl font-semibold text-white capitalize dark:text-gray-400 ",children:l})]})})}},8366:(e,l,a)=>{a.d(l,{Q:()=>d});a(5043);var n=a(6433);const d=(e,l)=>{n.Ay.open({type:e,content:l})}},7095:(e,l,a)=>{a.d(l,{A:()=>i});a(5043);var n=a(6263),d=a(6399),o=a(579);const i=function(e){let{data:l}=e;return(0,o.jsx)(n.A,{mode:"alternate",items:null===l||void 0===l?void 0:l.map(((e,l)=>({key:l,color:l%2!==0?"red":"green",children:(0,o.jsxs)("div",{className:"bg-gray-200 p-5 rounded-xl shadow-lg",children:[(0,o.jsx)("p",{className:"pb-4 text-gray-600 italic",children:new Date(null===e||void 0===e?void 0:e.forwarded_dt).toLocaleString("en-GB")}),(0,o.jsx)("p",{className:"mb-1",children:(0,o.jsxs)(d.A,{color:"green",className:"rounded-md",children:["From: ",null===e||void 0===e?void 0:e.fwd_name]})}),(0,o.jsx)("p",{children:(0,o.jsxs)(d.A,{color:"red",className:"rounded-md",children:["To: ",null===e||void 0===e?void 0:e.fwd_to_name]})}),(0,o.jsx)("p",{className:"text-base pt-4 text-gray-700 border-t-2 border-dashed border-gray-300 my-4",children:null===e||void 0===e?void 0:e.remarks})]})})))})}},9657:(e,l,a)=>{a.d(l,{A:()=>i});a(5043);var n=a(4623),d=a(6399),o=a(579);const i=function(e){let{title:l,color:a="error"}=e;return(0,o.jsx)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1,type:"tween",stiffness:500},children:(0,o.jsxs)(d.A,{className:"text-[12.6px] my-2",bordered:!1,color:a,children:[l,"."]})})}},1761:(e,l,a)=>{a.r(l),a.d(l,{default:()=>k});var n=a(5043),d=(a(1874),a(3216)),o=a(8834),i=a(9657),t=a(3731),r=a(3892),s=a(899),m=a(6213),u=a(8366),c=a(3041),h=a(1686),_=a(4520),v=a(7021),p=a(6399),g=a(164),b=a(7630),x=a(1966),f=a(5037),j=a(5337),y=a(1417),A=a(9023),N=a(7090),w=a(2229),S=a(7095),C=a(579);const k=function(){const e=(0,d.g)(),[l,a]=(0,n.useState)(!1),[k,B]=(0,n.useState)([]),O=(0,d.zy)(),{loanAppData:R}=O.state||{},T=(0,d.Zp)(),[q,D]=(0,n.useState)((()=>0)),[F,M]=(0,n.useState)((()=>[])),[E,H]=(0,n.useState)((()=>[])),[I,Q]=(0,n.useState)((()=>"")),[$,L]=(0,n.useState)((()=>[])),[Y,P]=(0,n.useState)((()=>null)),[J,z]=(0,n.useState)((()=>[])),[G,U]=(0,n.useState)((()=>"")),[V,W]=(0,n.useState)((()=>!1)),[Z,K]=(0,n.useState)((()=>!1)),[X,ee]=(0,n.useState)((()=>[])),[le,ae]=(0,n.useState)((()=>[])),[ne,de]=(0,n.useState)(),[oe,ie]=(0,n.useState)(""),[te,re]=(0,n.useState)(""),[se,me]=(0,n.useState)((()=>[]));console.log(e,"params"),console.log(O,"location");const[ue,ce]=(0,n.useState)({l_member_id:"",l_membership_date:"",l_name:"",l_father_husband_name:"",l_gender:"",l_dob:"",l_email:"",l_mobile_no:"",l_address:"",l_loan_through_branch:"",l_applied_for:"",l_loan_amount:"",l_duration:"",l_documents:[{l_file_name:"",l_file:""}]});console.log("LLOOCCAATTIIOONN ===== EDIT LOAN FORM",O.pathname.split("/")[O.pathname.split("/").length-2]);const he=s.Ik({l_member_id:s.Yj().required("Member ID is required"),l_membership_date:s.Yj().required("Membership Date is required"),l_name:s.Yj().max(60,"Name should always be less than 61 characters.").required("Name is required"),l_father_husband_name:s.Yj().max(60,"Father/Husband name should always be less than 61 characters.").required("Father/Husband is required"),l_gender:s.Yj().required("Gender is required"),l_dob:s.Yj().required("DOB is required"),l_email:s.Yj().email("Enter valid email").optional(),l_mobile_no:s.Yj().matches(/^[0-9]+$/,"Must be only digits").min(10,"Number should exactly be 10 digits").max(10,"Number should exactly be 10 digits").required("Mobile Numeber is required"),l_address:s.Yj().max(500,"Address length should always be less than 500 characters").required("Address is required"),l_loan_through_branch:s.Yj().required("Loan Through Branch is required"),l_applied_for:s.Yj().required("Applied For is required"),l_loan_amount:s.ai().integer("Only integers are allowed").min(1,"Loan Amount should always be greater than 0").max(1e9,"Max loan amount is 1000000000").required("Loan Amount is required"),l_duration:s.ai().min(0,"Duration should always be greater than equal 0").required("Duration is required"),l_documents:s.YO().of(s.Ik().shape({l_file_name:s.Yj(),l_file:s.gl()}))});(0,n.useEffect)((()=>{console.log("Calls when onSubmit api axios success changes...")}),[q]),(0,n.useEffect)((()=>{(async()=>{await m.A.get(`${c.O}/sql/branch_dtls`).then((e=>{var l,a;1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.suc)?M(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.msg):(0,u.Q)("error","Data not found!")})).catch((e=>{(0,u.Q)("error","Some error occurred while fetching Branches.")}))})(),(async()=>{await m.A.get(`${c.O}/sql/loan_type_dtls`).then((e=>{var l,a;1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.suc)?H(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.msg):(0,u.Q)("error","Data not found!")})).catch((e=>{(0,u.Q)("error","Some error occurred while fetching Loan Types.")}))})()}),[]);const _e=async l=>{var n,d;console.log("onsubmit called"),console.log(l,"onsubmit vendor"),a(!0);var o=new FormData;o.append("application_no",+(null===e||void 0===e?void 0:e.id)),o.append("user_id",+(null===(n=JSON.parse(localStorage.getItem("user_details")))||void 0===n?void 0:n.id)),o.append("member_id",+(null===l||void 0===l?void 0:l.l_member_id)),o.append("member_name",null===l||void 0===l?void 0:l.l_name),o.append("father_name",null===l||void 0===l?void 0:l.l_father_husband_name),o.append("gender",null===l||void 0===l?void 0:l.l_gender),o.append("dob",null===l||void 0===l?void 0:l.l_dob),o.append("member_dt",null===l||void 0===l?void 0:l.l_membership_date),o.append("email",null===l||void 0===l?void 0:l.l_email),o.append("mobile_no",null===l||void 0===l?void 0:l.l_mobile_no),o.append("memb_address",null===l||void 0===l?void 0:l.l_address),o.append("branch_code",null===l||void 0===l?void 0:l.l_loan_through_branch),o.append("loan_type",null===l||void 0===l?void 0:l.l_applied_for),o.append("loan_amt",null===l||void 0===l?void 0:l.l_loan_amount),o.append("loan_period",null===l||void 0===l?void 0:l.l_duration),o.append("created_by",null===(d=JSON.parse(localStorage.getItem("user_details")))||void 0===d?void 0:d.created_by),o.append("file_name",JSON.stringify(null===l||void 0===l?void 0:l.l_documents)),null===J||void 0===J||J.forEach(((e,l)=>{new File([e],`File_Application_${l}.pdf`);o.append("file_path",e)})),console.log("FORM DATA",o),await m.A.post(`${c.O}/sql/insert_loan_dtls`,o).then((e=>{var l,a;(console.log("API RESPONSE",e),1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.suc))&&((0,u.Q)("success",null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.msg),T(A.C.HOME_SCREEN))})).catch((e=>{console.log("EERRRRRRRRRR",e)})),a(!1)},ve=async()=>{var l;a(!0),await m.A.get(`${c.O}/sql/fetch_loan_dtls?user_id=${+(null===(l=JSON.parse(localStorage.getItem("user_details")))||void 0===l?void 0:l.id)}&application_no=${null===e||void 0===e?void 0:e.id}`).then((e=>{var l,a,n,d,o,i,t,r,s,h,_,v,p,g,b,x,f,j,y,A,N,w,S,C,k,B,O,R,T,q,D,F,M,E,H,I,Q,$,L,Y,P,J,z,G,V,W,Z,K,X,ee,le,ne,de,oe,te,se,ue,he;1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.suc)?(ce({l_member_id:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(n=a.msg[0])||void 0===n||null===(d=n.pending_dtls[0])||void 0===d?void 0:d.member_id,l_membership_date:(null===(o=new Date(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(r=t.msg[0])||void 0===r||null===(s=r.pending_dtls[0])||void 0===s?void 0:s.member_dt))||void 0===o||null===(i=o.toISOString())||void 0===i?void 0:i.split("T")[0])||"",l_name:null===e||void 0===e||null===(h=e.data)||void 0===h||null===(_=h.msg[0])||void 0===_||null===(v=_.pending_dtls[0])||void 0===v?void 0:v.member_name,l_father_husband_name:null===e||void 0===e||null===(p=e.data)||void 0===p||null===(g=p.msg[0])||void 0===g||null===(b=g.pending_dtls[0])||void 0===b?void 0:b.father_name,l_gender:null===e||void 0===e||null===(x=e.data)||void 0===x||null===(f=x.msg[0])||void 0===f||null===(j=f.pending_dtls[0])||void 0===j?void 0:j.gender,l_dob:(null===(y=new Date(null===e||void 0===e||null===(N=e.data)||void 0===N||null===(w=N.msg[0])||void 0===w||null===(S=w.pending_dtls[0])||void 0===S?void 0:S.dob))||void 0===y||null===(A=y.toISOString())||void 0===A?void 0:A.split("T")[0])||"",l_email:null===e||void 0===e||null===(C=e.data)||void 0===C||null===(k=C.msg[0])||void 0===k||null===(B=k.pending_dtls[0])||void 0===B?void 0:B.email,l_mobile_no:null===e||void 0===e||null===(O=e.data)||void 0===O||null===(R=O.msg[0])||void 0===R||null===(T=R.pending_dtls[0])||void 0===T?void 0:T.mobile_no,l_address:null===e||void 0===e||null===(q=e.data)||void 0===q||null===(D=q.msg[0])||void 0===D||null===(F=D.pending_dtls[0])||void 0===F?void 0:F.memb_address,l_loan_through_branch:null===e||void 0===e||null===(M=e.data)||void 0===M||null===(E=M.msg[0])||void 0===E||null===(H=E.pending_dtls[0])||void 0===H?void 0:H.branch_code,l_applied_for:null===e||void 0===e||null===(I=e.data)||void 0===I||null===(Q=I.msg[0])||void 0===Q||null===($=Q.pending_dtls[0])||void 0===$?void 0:$.loan_type,l_loan_amount:null===e||void 0===e||null===(L=e.data)||void 0===L||null===(Y=L.msg[0])||void 0===Y||null===(P=Y.pending_dtls[0])||void 0===P?void 0:P.loan_amt,l_duration:null===e||void 0===e||null===(J=e.data)||void 0===J||null===(z=J.msg[0])||void 0===z||null===(G=z.pending_dtls[0])||void 0===G?void 0:G.loan_period,l_documents:[{l_file_name:"",l_file:""}]}),U(null===e||void 0===e||null===(V=e.data)||void 0===V||null===(W=V.msg[0])||void 0===W||null===(Z=W.pending_dtls[0])||void 0===Z?void 0:Z.application_status),ie(null===e||void 0===e||null===(K=e.data)||void 0===K||null===(X=K.msg[0])||void 0===X||null===(ee=X.pending_dtls[0])||void 0===ee?void 0:ee.forward_remarks),re(null===e||void 0===e||null===(le=e.data)||void 0===le||null===(ne=le.msg[0])||void 0===ne||null===(de=ne.pending_dtls[0])||void 0===de?void 0:de.forward_user_name),(async e=>{await m.A.get(`${c.O}/sql/get_brn_manager?brn_code=${e}`).then((e=>{var l,a,n;1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.suc)?(ae(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.msg),console.log(")))))))))))))))))))))))))))))))",null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.msg)):(0,u.Q)("error","No Branch Managers Found.")})).catch((e=>{(0,u.Q)("error","Something went wrong while fetching Branch Managers.")}))})(null===e||void 0===e||null===(oe=e.data)||void 0===oe||null===(te=oe.msg[0])||void 0===te||null===(se=te.pending_dtls[0])||void 0===se?void 0:se.branch_code),me(null===e||void 0===e||null===(ue=e.data)||void 0===ue||null===(he=ue.msg[0])||void 0===he?void 0:he.reject_dt),console.log("HHHHHHHHHHHHHHHH",null===e||void 0===e?void 0:e.data)):(0,u.Q)("warning","No data found!")})).catch((e=>{console.log("Error loan",e),(0,u.Q)("error","Some error occurred while fetching loan details.")})),await(async()=>{const l={application_no:+(null===e||void 0===e?void 0:e.id)};await m.A.post(`${c.O}/sql/file_details`,l).then((e=>{var l,a;1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.suc)?ee(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.msg):(0,u.Q)("error","No Files Uploaded.")})).catch((e=>{(0,u.Q)("error","Error occurred while fetching uploaded files.")}))})(),a(!1)},pe=async(l,n)=>{var d;n.preventDefault(),a(!0);const o={brn_code:ge.values.l_loan_through_branch,application_no:+e.id,user_id:JSON.parse(localStorage.getItem("user_details")).id,fwd_brn:JSON.parse(localStorage.getItem("user_details")).branch_code,remarks:oe,application_status:l,brn_mgr_id:ne,created_by:JSON.parse(localStorage.getItem("user_details")).first_name+" "+JSON.parse(localStorage.getItem("user_details")).last_name};console.log("ooooooooooooooo------------------",+(null===(d=JSON.parse(localStorage.getItem("user_details")))||void 0===d?void 0:d.user_type)),await m.A.post(`${c.O}/sql/forward_brn_manager`,o).then((e=>{(0,u.Q)("success","E-Files moved to Branch Manager."),T(A.C.HOME_SCREEN)})).catch((e=>{(0,u.Q)("error","Something went wrong while sending to Branch Manager!")})),a(!1)};(0,n.useEffect)((()=>{ve()}),[]);const ge=(0,r.Wx)({initialValues:ue,onSubmit:_e,validationSchema:he,validateOnChange:!0,validateOnBlur:!0,enableReinitialize:!0,validateOnMount:!0});return C.Fragment,C.Fragment,(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(N.A,{}),(0,C.jsx)("section",{className:"bg-red-50 dark:bg-[#001529] flex justify-center align-middle p-5",children:(0,C.jsxs)("div",{className:" bg-white p-5 w-4/5 min-h-screen rounded-3xl",children:[(0,C.jsx)("div",{className:"w-auto mx-14 my-4",children:(0,C.jsx)(y.A,{text:"Application Preview, Edit"})}),(0,C.jsx)(h.A,{indicator:(0,C.jsx)(g.A,{spin:!0}),size:"large",className:"text-red-800 dark:text-gray-400",spinning:l,children:(0,C.jsx)(r.l1,{initialValues:ue,validationSchema:he,onSubmit:_e,validateOnMount:!0,enableReinitialize:!0,children:d=>{let{values:s,handleReset:y,handleChange:A,handleBlur:N,handleSubmit:w,errors:k,touched:B}=d;return(0,C.jsx)("form",{onSubmit:w,children:(0,C.jsxs)("div",{className:"card flex flex-col justify-center px-16 py-5",children:[(0,C.jsx)("div",{className:"mb-4",children:(0,C.jsx)(t.A,{placeholder:"Application Number",type:"text",label:"Application Number",name:"app_no",formControlName:e.id,mode:1,disabled:!0})}),(0,C.jsxs)("div",{className:"grid gap-4 sm:grid-cols-6 sm:gap-6",children:[(0,C.jsxs)("div",{className:"sm:col-span-2",children:[(0,C.jsx)(t.A,{placeholder:"Type Member ID...",type:"text",label:"Member ID",name:"l_member_id",formControlName:s.l_member_id,handleChange:A,handleBlur:N,mode:1,disabled:!0}),k.l_member_id&&B.l_member_id?(0,C.jsx)(i.A,{title:k.l_member_id}):null]}),(0,C.jsxs)("div",{className:"sm:col-span-2",children:[(0,C.jsx)(t.A,{placeholder:"Type Membership Date...",type:"date",label:"Membership Date",name:"l_membership_date",formControlName:s.l_membership_date,handleChange:A,handleBlur:N,min:"1900-12-31",mode:1,disabled:!0}),k.l_membership_date&&B.l_membership_date?(0,C.jsx)(i.A,{title:k.l_membership_date}):null]}),(0,C.jsxs)("div",{className:"sm:col-span-2",children:[(0,C.jsx)(t.A,{placeholder:"Type name...",type:"text",label:"Name",name:"l_name",formControlName:s.l_name,handleChange:A,handleBlur:N,mode:1,disabled:!0}),k.l_name&&B.l_name?(0,C.jsx)(i.A,{title:k.l_name}):null]})]}),(0,C.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 sm:gap-6 pt-5",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)(t.A,{placeholder:"Type Father's/Husband's Name...",type:"text",label:"Father's/Husband's Name",name:"l_father_husband_name",formControlName:s.l_father_husband_name,handleChange:A,handleBlur:N,mode:1,disabled:!0}),k.l_father_husband_name&&B.l_father_husband_name?(0,C.jsx)(i.A,{title:k.l_father_husband_name}):null]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(t.A,{placeholder:"Select Gender...",type:"text",label:"Gender",name:"l_gender",formControlName:s.l_gender,handleChange:A,handleBlur:N,data:[{code:"M",name:"Male"},{code:"F",name:"Female"},{code:"L",name:"LGBTQA+"}],mode:2,disabled:!0}),k.l_gender&&B.l_gender?(0,C.jsx)(i.A,{title:k.l_gender}):null]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(t.A,{placeholder:"Type DOB...",type:"date",label:"Date of Birth (DOB)",name:"l_dob",formControlName:s.l_dob,handleChange:A,handleBlur:N,max:s.l_membership_date,mode:1,disabled:!0}),k.l_dob&&B.l_dob?(0,C.jsx)(i.A,{title:k.l_dob}):null]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(t.A,{placeholder:"Type Email...",type:"email",label:"Email",name:"l_email",formControlName:s.l_email,handleChange:A,handleBlur:N,mode:1,disabled:!0}),k.l_email&&B.l_email?(0,C.jsx)(i.A,{title:k.l_email}):null]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(t.A,{placeholder:"Type Address...",type:"text",label:"Address",name:"l_address",formControlName:s.l_address,handleChange:A,handleBlur:N,mode:3,disabled:!0}),k.l_address&&B.l_address?(0,C.jsx)(i.A,{title:k.l_address}):null]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(t.A,{placeholder:"Type Mobile Number...",type:"number",label:"Mobile Number",name:"l_mobile_no",formControlName:s.l_mobile_no,handleChange:A,handleBlur:N,mode:1,disabled:!0}),k.l_mobile_no&&B.l_mobile_no?(0,C.jsx)(i.A,{title:k.l_mobile_no}):null]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(t.A,{placeholder:"Type Loan Through Branch...",type:"text",label:"Loan Through Branch",name:"l_loan_through_branch",formControlName:s.l_loan_through_branch,handleChange:A,handleBlur:N,data:null===F||void 0===F?void 0:F.map((e=>({code:null===e||void 0===e?void 0:e.sl_no,name:null===e||void 0===e?void 0:e.branch_name}))),mode:2,disabled:"A"===G||"R"===G}),k.l_loan_through_branch&&B.l_loan_through_branch?(0,C.jsx)(i.A,{title:k.l_loan_through_branch}):null]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(t.A,{placeholder:"Type Applied For...",type:"text",label:"Applied For",name:"l_applied_for",formControlName:s.l_applied_for,handleChange:A,handleBlur:N,data:null===E||void 0===E?void 0:E.map((e=>({code:null===e||void 0===e?void 0:e.sl_no,name:null===e||void 0===e?void 0:e.loan_type}))),mode:2,disabled:"A"===G||"R"===G}),console.log("=========",s.l_applied_for),k.l_applied_for&&B.l_applied_for?(0,C.jsx)(i.A,{title:k.l_applied_for}):null]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(t.A,{placeholder:"Type Loan Amount...",type:"number",label:"Loan Amount",name:"l_loan_amount",formControlName:s.l_loan_amount,handleChange:A,handleBlur:N,mode:1,disabled:"A"===G||"R"===G}),k.l_loan_amount&&B.l_loan_amount?(0,C.jsx)(i.A,{title:k.l_loan_amount}):null]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(t.A,{placeholder:"Type Duration...",type:"number",label:"Duration (In Months)",name:"l_duration",formControlName:s.l_duration,handleChange:A,handleBlur:N,mode:1,disabled:"A"===G||"R"===G}),k.l_duration&&B.l_duration?(0,C.jsx)(i.A,{title:k.l_duration}):null]})]}),(0,C.jsx)(h.A,{indicator:(0,C.jsx)(g.A,{spin:!0}),size:"large",className:"text-red-800 dark:text-gray-400",spinning:l,children:(0,C.jsxs)("div",{className:"mt-10 text-red-800",children:[(0,C.jsx)("div",{className:"text-lg font-bold",children:"Uploaded Files"}),(0,C.jsx)("div",{className:"grid grid-cols-4 gap-4 place-items-start mt-3",children:null===X||void 0===X?void 0:X.map(((l,n)=>(0,C.jsxs)("div",{children:[(0,C.jsx)(t.A,{placeholder:"Entered File Name...",type:"text",label:"File Name",formControlName:null===l||void 0===l?void 0:l.file_name,disabled:!0,mode:1}),(0,C.jsx)("div",{className:"mt-3 text-blue-500",children:(0,C.jsx)("a",{href:c.O+"/"+(null===l||void 0===l?void 0:l.file_path),target:"__blank",children:(0,C.jsx)(b.A,{className:"text-red-800 text-6xl"})})}),(0,C.jsx)("div",{className:"-mt-6",children:(0,C.jsx)(_.A,{title:"Delete file?",description:"Are you sure to delete this file?",onConfirm:d=>{(async(l,n,d)=>{a(!0),l.preventDefault();const o={application_no:+(null===e||void 0===e?void 0:e.id),sl_no:+d};await m.A.post(`${c.O}/sql/update_file`,o).then((e=>{var l,a;1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.suc)?(ee((e=>e.filter(((e,l)=>l!==n)))),(0,u.Q)("success",null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.msg)):(0,u.Q)("error","Not deleted!")})).catch((e=>{(0,u.Q)("error","Some error occurred while deleting a file.")})),a(!1)})(d,n,null===l||void 0===l?void 0:l.sl_no)},onCancel:()=>null,okText:"Delete",cancelText:"Cancel",okType:"link",okButtonProps:{style:{backgroundColor:"#5f49cc",color:"#ffffff"}},children:"A"!==G&&"R"!==G&&(0,C.jsx)(x.A,{className:"text-[#5f49cc] text-xl ml-40 hover:animate-pulse hover:text-black delay-50 duration-50"})})})]},n)))})]})}),"A"!==G&&"R"!==G&&(0,C.jsx)(r.ED,{name:"l_documents",children:e=>{var l;let{push:a,remove:d,insert:o,unshift:r}=e;return(0,C.jsx)(C.Fragment,{children:null===(l=s.l_documents)||void 0===l?void 0:l.map(((e,l)=>{var o;return(0,C.jsxs)(n.Fragment,{children:[(0,C.jsxs)("div",{className:"flex flex-col my-8 border-t-2 border-yellow-200 border-dashed",children:[(0,C.jsx)("div",{className:"mt-4",children:(0,C.jsx)(t.A,{placeholder:"Type File Name...",type:"text",label:"File Name",name:`l_documents[${l}].l_file_name`,formControlName:e.l_file_name,handleChange:A,handleBlur:N,mode:1})}),(0,C.jsxs)("div",{className:"mt-2",children:[(0,C.jsx)(t.A,{placeholder:"Upload Documents",type:"file",accept:"application/pdf",label:"Upload Documents",name:`l_documents[${l}].l_file`,handleChange:e=>{const l=e.target.files;l&&Array.from(l).forEach((e=>{(e=>{z((l=>[...l,e]))})(e)}))},handleBlur:N,mode:1}),k.l_file&&B.l_file?(0,C.jsx)(i.A,{title:k.l_file}):null]})]}),(0,C.jsxs)("div",{className:"flex flex-row gap-2 justify-end align-middle",children:[(null===s||void 0===s||null===(o=s.l_documents)||void 0===o?void 0:o.length)>1&&(0,C.jsx)("div",{children:(0,C.jsx)(v.Ay,{className:"rounded-full text-white bg-red-800 border-red-800",onClick:()=>{d(l),(e=>{z(J.filter(((l,a)=>a!==e)))})(l)},icon:(0,C.jsx)(f.A,{})})}),(0,C.jsx)("div",{children:(0,C.jsx)(v.Ay,{className:"rounded-full bg-yellow-400 text-white",onClick:()=>{a({l_file_name:"",l_file:""}),console.log(s.l_documents)},icon:(0,C.jsx)(j.A,{})})})]})]},l)}))})}}),(null===se||void 0===se?void 0:se.length)>0&&(0,C.jsxs)("div",{className:"mt-12 bg-red-50 rounded-xl p-10",children:[(0,C.jsx)("div",{className:"text-xl font-bold text-red-800 mb-4",children:"Comments / Rejection Remarks"}),(0,C.jsx)(S.A,{data:se})]}),(null===X||void 0===X?void 0:X.length)>0&&(0,C.jsxs)("div",{className:"mt-5 grid grid-cols-2 gap-6 border-t-2 border-yellow-200 border-dashed",children:["A"!==G&&"R"!==G?(0,C.jsxs)("div",{className:"col-span-2 mt-4",children:[(0,C.jsx)(t.A,{placeholder:"Select Branch Manager",type:"text",label:"Select Branch Manager",name:"br_mgr",formControlName:ne,handleChange:e=>de(e.target.value),data:null===le||void 0===le?void 0:le.map((e=>({code:null===e||void 0===e?void 0:e.id,name:(null===e||void 0===e?void 0:e.first_name)+" "+(null===e||void 0===e?void 0:e.last_name)}))),mode:2}),ne?null:(0,C.jsx)(i.A,{title:"Please Select Branch Manager"})]}):(0,C.jsx)(C.Fragment,{}),"A"!==G&&"R"!==G&&(0,C.jsxs)("div",{className:"col-span-2 mt-4",children:[(0,C.jsx)(t.A,{placeholder:"Remarks...",type:"text",label:"Remarks",formControlName:oe,handleChange:e=>ie(e.target.value),mode:3}),oe?null:(0,C.jsx)(i.A,{title:"Please Enter Remarks"})]})]}),"A"!==G&&"R"!==G?(0,C.jsx)("div",{className:"mt-10",children:(0,C.jsx)(o.A,{mode:"S",rejectBtn:!0,onReject:()=>{pe("R")},sendToText:"Branch Manager",onSendTo:()=>W(!0),condition:(null===X||void 0===X?void 0:X.length)>0,showSave:!0})}):(0,C.jsx)(p.A,{color:"purple",className:"mt-10 p-5 rounded-lg text-xl font-bold self-center",children:"E-Files forwarded to Branch Manager."})]})})}})})]})}),(0,C.jsx)(w.A,{flag:4,onPress:()=>W(!V),visible:V,onPressYes:e=>{ne&&oe?(W(!V),pe("A",e)):((0,u.Q)("error","Choose Branch Manager and Write Remarks."),W(!V))},onPressNo:()=>{W(!V),(0,u.Q)("warning","User cancelled operation.")}})]})}},1874:()=>{}}]);
//# sourceMappingURL=209.4eda3972.chunk.js.map