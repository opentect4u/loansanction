"use strict";(self.webpackChunkpurdcsloan=self.webpackChunkpurdcsloan||[]).push([[761],{1761:(e,l,a)=>{a.r(l),a.d(l,{default:()=>O});var d=a(5043),n=(a(1874),a(3216)),o=a(1299),i=a(9657),t=a(3731),r=a(3892),s=a(899),m=a(6213),u=a(3307),c=a(3041),_=a(1686),h=a(4520),v=a(7021),p=a(6399),g=a(164),b=a(7630),x=a(1966),f=a(5037),j=a(5337),A=a(5603),N=a(9023),y=a(6099),S=a(9319),C=a(9556),w=a(579);const O=function(){const e=(0,n.g)(),[l,a]=(0,d.useState)(!1),[O,B]=(0,d.useState)([]),R=(0,n.zy)(),{loanAppData:q}=R.state||{},M=(0,n.Zp)(),[T,D]=(0,d.useState)((()=>0)),[F,E]=(0,d.useState)((()=>[])),[k,H]=(0,d.useState)((()=>[])),[I,Q]=(0,d.useState)((()=>"")),[Y,L]=(0,d.useState)((()=>[])),[J,P]=(0,d.useState)((()=>null)),[z,U]=(0,d.useState)((()=>[])),[G,V]=(0,d.useState)((()=>"")),[W,Z]=(0,d.useState)((()=>!1)),[$,K]=(0,d.useState)((()=>!1)),[X,ee]=(0,d.useState)((()=>[])),[le,ae]=(0,d.useState)((()=>[])),[de,ne]=(0,d.useState)(),[oe,ie]=(0,d.useState)(""),[te,re]=(0,d.useState)(""),[se,me]=(0,d.useState)((()=>[]));console.log(e,"params"),console.log(R,"location");const[ue,ce]=(0,d.useState)({l_member_id:"",l_membership_date:"",l_name:"",l_father_husband_name:"",l_gender:"",l_dob:"",l_email:"",l_mobile_no:"",l_address:"",l_loan_through_branch:"",l_applied_for:"",l_loan_amount:"",l_duration:"",l_documents:[{l_file_name:"",l_file:""}]});console.log("LLOOCCAATTIIOONN ===== EDIT LOAN FORM",R.pathname.split("/")[R.pathname.split("/").length-2]);const _e=s.Ik({l_member_id:s.Yj().required("Member ID is required"),l_membership_date:s.Yj().required("Membership Date is required"),l_name:s.Yj().max(60,"Name should always be less than 61 characters.").required("Name is required"),l_father_husband_name:s.Yj().max(60,"Father/Husband name should always be less than 61 characters.").required("Father/Husband is required"),l_gender:s.Yj().required("Gender is required"),l_dob:s.Yj().required("DOB is required"),l_email:s.Yj().email("Enter valid email").optional(),l_mobile_no:s.Yj().matches(/^[0-9]+$/,"Must be only digits").min(10,"Number should exactly be 10 digits").max(10,"Number should exactly be 10 digits").required("Mobile Numeber is required"),l_address:s.Yj().max(500,"Address length should always be less than 500 characters").required("Address is required"),l_loan_through_branch:s.Yj().required("Loan Through Branch is required"),l_applied_for:s.Yj().required("Applied For is required"),l_loan_amount:s.ai().integer("Only integers are allowed").min(1,"Loan Amount should always be greater than 0").max(1e9,"Max loan amount is 1000000000").required("Loan Amount is required"),l_duration:s.ai().min(0,"Duration should always be greater than equal 0").required("Duration is required"),l_documents:s.YO().of(s.Ik().shape({l_file_name:s.Yj(),l_file:s.gl()}))});(0,d.useEffect)((()=>{console.log("Calls when onSubmit api axios success changes...")}),[T]),(0,d.useEffect)((()=>{(async()=>{await m.A.get("".concat(c.O,"/sql/branch_dtls")).then((e=>{var l,a;1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.suc)?E(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.msg):(0,u.Q)("error","Data not found!")})).catch((e=>{(0,u.Q)("error","Some error occurred while fetching Branches.")}))})(),(async()=>{await m.A.get("".concat(c.O,"/sql/loan_type_dtls")).then((e=>{var l,a;1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.suc)?H(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.msg):(0,u.Q)("error","Data not found!")})).catch((e=>{(0,u.Q)("error","Some error occurred while fetching Loan Types.")}))})()}),[]);const he=async l=>{var d,n;console.log("onsubmit called"),console.log(l,"onsubmit vendor"),a(!0);var o=new FormData;o.append("application_no",+(null===e||void 0===e?void 0:e.id)),o.append("user_id",+(null===(d=JSON.parse(localStorage.getItem("user_details")))||void 0===d?void 0:d.id)),o.append("member_id",+(null===l||void 0===l?void 0:l.l_member_id)),o.append("member_name",null===l||void 0===l?void 0:l.l_name),o.append("father_name",null===l||void 0===l?void 0:l.l_father_husband_name),o.append("gender",null===l||void 0===l?void 0:l.l_gender),o.append("dob",null===l||void 0===l?void 0:l.l_dob),o.append("member_dt",null===l||void 0===l?void 0:l.l_membership_date),o.append("email",null===l||void 0===l?void 0:l.l_email),o.append("mobile_no",null===l||void 0===l?void 0:l.l_mobile_no),o.append("memb_address",null===l||void 0===l?void 0:l.l_address),o.append("branch_code",null===l||void 0===l?void 0:l.l_loan_through_branch),o.append("loan_type",null===l||void 0===l?void 0:l.l_applied_for),o.append("loan_amt",null===l||void 0===l?void 0:l.l_loan_amount),o.append("loan_period",null===l||void 0===l?void 0:l.l_duration),o.append("created_by",null===(n=JSON.parse(localStorage.getItem("user_details")))||void 0===n?void 0:n.created_by),o.append("file_name",JSON.stringify(null===l||void 0===l?void 0:l.l_documents)),null===z||void 0===z||z.forEach(((e,l)=>{new File([e],"File_Application_".concat(l)+".pdf");o.append("file_path",e)})),console.log("FORM DATA",o),await m.A.post("".concat(c.O,"/sql/insert_loan_dtls"),o).then((e=>{var l,a;(console.log("API RESPONSE",e),1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.suc))&&((0,u.Q)("success",null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.msg),M(N.C.HOME_SCREEN))})).catch((e=>{console.log("EERRRRRRRRRR",e)})),a(!1)},ve=async()=>{var l;a(!0),await m.A.get("".concat(c.O,"/sql/fetch_loan_dtls?user_id=").concat(+(null===(l=JSON.parse(localStorage.getItem("user_details")))||void 0===l?void 0:l.id),"&application_no=").concat(null===e||void 0===e?void 0:e.id)).then((e=>{var l,a,d,n,o,i,t,r,s,_,h,v,p,g,b,x,f,j,A,N,y,S,C,w,O,B,R,q,M,T,D,F,E,k,H,I,Q,Y,L,J,P,z,U,G,W,Z,$,K,X,ee,le,de,ne,oe,te,se,ue,_e;1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.suc)?(ce({l_member_id:null===e||void 0===e||null===(a=e.data)||void 0===a||null===(d=a.msg[0])||void 0===d||null===(n=d.pending_dtls[0])||void 0===n?void 0:n.member_id,l_membership_date:(null===(o=new Date(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(r=t.msg[0])||void 0===r||null===(s=r.pending_dtls[0])||void 0===s?void 0:s.member_dt))||void 0===o||null===(i=o.toISOString())||void 0===i?void 0:i.split("T")[0])||"",l_name:null===e||void 0===e||null===(_=e.data)||void 0===_||null===(h=_.msg[0])||void 0===h||null===(v=h.pending_dtls[0])||void 0===v?void 0:v.member_name,l_father_husband_name:null===e||void 0===e||null===(p=e.data)||void 0===p||null===(g=p.msg[0])||void 0===g||null===(b=g.pending_dtls[0])||void 0===b?void 0:b.father_name,l_gender:null===e||void 0===e||null===(x=e.data)||void 0===x||null===(f=x.msg[0])||void 0===f||null===(j=f.pending_dtls[0])||void 0===j?void 0:j.gender,l_dob:(null===(A=new Date(null===e||void 0===e||null===(y=e.data)||void 0===y||null===(S=y.msg[0])||void 0===S||null===(C=S.pending_dtls[0])||void 0===C?void 0:C.dob))||void 0===A||null===(N=A.toISOString())||void 0===N?void 0:N.split("T")[0])||"",l_email:null===e||void 0===e||null===(w=e.data)||void 0===w||null===(O=w.msg[0])||void 0===O||null===(B=O.pending_dtls[0])||void 0===B?void 0:B.email,l_mobile_no:null===e||void 0===e||null===(R=e.data)||void 0===R||null===(q=R.msg[0])||void 0===q||null===(M=q.pending_dtls[0])||void 0===M?void 0:M.mobile_no,l_address:null===e||void 0===e||null===(T=e.data)||void 0===T||null===(D=T.msg[0])||void 0===D||null===(F=D.pending_dtls[0])||void 0===F?void 0:F.memb_address,l_loan_through_branch:null===e||void 0===e||null===(E=e.data)||void 0===E||null===(k=E.msg[0])||void 0===k||null===(H=k.pending_dtls[0])||void 0===H?void 0:H.branch_code,l_applied_for:null===e||void 0===e||null===(I=e.data)||void 0===I||null===(Q=I.msg[0])||void 0===Q||null===(Y=Q.pending_dtls[0])||void 0===Y?void 0:Y.loan_type,l_loan_amount:null===e||void 0===e||null===(L=e.data)||void 0===L||null===(J=L.msg[0])||void 0===J||null===(P=J.pending_dtls[0])||void 0===P?void 0:P.loan_amt,l_duration:null===e||void 0===e||null===(z=e.data)||void 0===z||null===(U=z.msg[0])||void 0===U||null===(G=U.pending_dtls[0])||void 0===G?void 0:G.loan_period,l_documents:[{l_file_name:"",l_file:""}]}),V(null===e||void 0===e||null===(W=e.data)||void 0===W||null===(Z=W.msg[0])||void 0===Z||null===($=Z.pending_dtls[0])||void 0===$?void 0:$.application_status),ie(null===e||void 0===e||null===(K=e.data)||void 0===K||null===(X=K.msg[0])||void 0===X||null===(ee=X.pending_dtls[0])||void 0===ee?void 0:ee.forward_remarks),re(null===e||void 0===e||null===(le=e.data)||void 0===le||null===(de=le.msg[0])||void 0===de||null===(ne=de.pending_dtls[0])||void 0===ne?void 0:ne.forward_user_name),(async e=>{await m.A.get("".concat(c.O,"/sql/get_brn_manager?brn_code=").concat(e)).then((e=>{var l,a,d;1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.suc)?(ae(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.msg),console.log(")))))))))))))))))))))))))))))))",null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.msg)):(0,u.Q)("error","No Branch Managers Found.")})).catch((e=>{(0,u.Q)("error","Something went wrong while fetching Branch Managers.")}))})(null===e||void 0===e||null===(oe=e.data)||void 0===oe||null===(te=oe.msg[0])||void 0===te||null===(se=te.pending_dtls[0])||void 0===se?void 0:se.branch_code),me(null===e||void 0===e||null===(ue=e.data)||void 0===ue||null===(_e=ue.msg[0])||void 0===_e?void 0:_e.reject_dt),console.log("HHHHHHHHHHHHHHHH",null===e||void 0===e?void 0:e.data)):(0,u.Q)("warning","No data found!")})).catch((e=>{console.log("Error loan",e),(0,u.Q)("error","Some error occurred while fetching loan details.")})),await(async()=>{const l={application_no:+(null===e||void 0===e?void 0:e.id)};await m.A.post("".concat(c.O,"/sql/file_details"),l).then((e=>{var l,a;1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.suc)?ee(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.msg):(0,u.Q)("error","No Files Uploaded.")})).catch((e=>{(0,u.Q)("error","Error occurred while fetching uploaded files.")}))})(),a(!1)},pe=async(l,d)=>{var n;d.preventDefault(),a(!0);const o={brn_code:ge.values.l_loan_through_branch,application_no:+e.id,user_id:JSON.parse(localStorage.getItem("user_details")).id,fwd_brn:JSON.parse(localStorage.getItem("user_details")).branch_code,remarks:oe,application_status:l,brn_mgr_id:de,created_by:JSON.parse(localStorage.getItem("user_details")).first_name+" "+JSON.parse(localStorage.getItem("user_details")).last_name};console.log("ooooooooooooooo------------------",+(null===(n=JSON.parse(localStorage.getItem("user_details")))||void 0===n?void 0:n.user_type)),await m.A.post("".concat(c.O,"/sql/forward_brn_manager"),o).then((e=>{(0,u.Q)("success","E-Files moved to Branch Manager."),M(N.C.HOME_SCREEN)})).catch((e=>{(0,u.Q)("error","Something went wrong while sending to Branch Manager!")})),a(!1)};(0,d.useEffect)((()=>{ve()}),[]);const ge=(0,r.Wx)({initialValues:ue,onSubmit:he,validationSchema:_e,validateOnChange:!0,validateOnBlur:!0,enableReinitialize:!0,validateOnMount:!0});return w.Fragment,w.Fragment,(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(y.A,{}),(0,w.jsx)("section",{className:"bg-red-50 dark:bg-[#001529] flex justify-center align-middle p-5",children:(0,w.jsxs)("div",{className:" bg-white p-5 w-4/5 min-h-screen rounded-3xl",children:[(0,w.jsx)("div",{className:"w-auto mx-14 my-4",children:(0,w.jsx)(A.A,{text:"Application Preview, Edit"})}),(0,w.jsx)(_.A,{indicator:(0,w.jsx)(g.A,{spin:!0}),size:"large",className:"text-red-800 dark:text-gray-400",spinning:l,children:(0,w.jsx)(r.l1,{initialValues:ue,validationSchema:_e,onSubmit:he,validateOnMount:!0,enableReinitialize:!0,children:n=>{let{values:s,handleReset:A,handleChange:N,handleBlur:y,handleSubmit:S,errors:O,touched:B}=n;return(0,w.jsx)("form",{onSubmit:S,children:(0,w.jsxs)("div",{className:"card flex flex-col justify-center px-16 py-5",children:[(0,w.jsx)("div",{className:"mb-4",children:(0,w.jsx)(t.A,{placeholder:"Application Number",type:"text",label:"Application Number",name:"app_no",formControlName:e.id,mode:1,disabled:!0})}),(0,w.jsxs)("div",{className:"grid gap-4 sm:grid-cols-6 sm:gap-6",children:[(0,w.jsxs)("div",{className:"sm:col-span-2",children:[(0,w.jsx)(t.A,{placeholder:"Type Member ID...",type:"text",label:"Member ID",name:"l_member_id",formControlName:s.l_member_id,handleChange:N,handleBlur:y,mode:1,disabled:!0}),O.l_member_id&&B.l_member_id?(0,w.jsx)(i.A,{title:O.l_member_id}):null]}),(0,w.jsxs)("div",{className:"sm:col-span-2",children:[(0,w.jsx)(t.A,{placeholder:"Type Membership Date...",type:"date",label:"Membership Date",name:"l_membership_date",formControlName:s.l_membership_date,handleChange:N,handleBlur:y,min:"1900-12-31",mode:1,disabled:!0}),O.l_membership_date&&B.l_membership_date?(0,w.jsx)(i.A,{title:O.l_membership_date}):null]}),(0,w.jsxs)("div",{className:"sm:col-span-2",children:[(0,w.jsx)(t.A,{placeholder:"Type name...",type:"text",label:"Name",name:"l_name",formControlName:s.l_name,handleChange:N,handleBlur:y,mode:1,disabled:!0}),O.l_name&&B.l_name?(0,w.jsx)(i.A,{title:O.l_name}):null]})]}),(0,w.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 sm:gap-6 pt-5",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)(t.A,{placeholder:"Type Father's/Husband's Name...",type:"text",label:"Father's/Husband's Name",name:"l_father_husband_name",formControlName:s.l_father_husband_name,handleChange:N,handleBlur:y,mode:1,disabled:!0}),O.l_father_husband_name&&B.l_father_husband_name?(0,w.jsx)(i.A,{title:O.l_father_husband_name}):null]}),(0,w.jsxs)("div",{children:[(0,w.jsx)(t.A,{placeholder:"Select Gender...",type:"text",label:"Gender",name:"l_gender",formControlName:s.l_gender,handleChange:N,handleBlur:y,data:[{code:"M",name:"Male"},{code:"F",name:"Female"},{code:"L",name:"LGBTQA+"}],mode:2,disabled:!0}),O.l_gender&&B.l_gender?(0,w.jsx)(i.A,{title:O.l_gender}):null]}),(0,w.jsxs)("div",{children:[(0,w.jsx)(t.A,{placeholder:"Type DOB...",type:"date",label:"Date of Birth (DOB)",name:"l_dob",formControlName:s.l_dob,handleChange:N,handleBlur:y,max:s.l_membership_date,mode:1,disabled:!0}),O.l_dob&&B.l_dob?(0,w.jsx)(i.A,{title:O.l_dob}):null]}),(0,w.jsxs)("div",{children:[(0,w.jsx)(t.A,{placeholder:"Type Email...",type:"email",label:"Email",name:"l_email",formControlName:s.l_email,handleChange:N,handleBlur:y,mode:1,disabled:!0}),O.l_email&&B.l_email?(0,w.jsx)(i.A,{title:O.l_email}):null]}),(0,w.jsxs)("div",{children:[(0,w.jsx)(t.A,{placeholder:"Type Address...",type:"text",label:"Address",name:"l_address",formControlName:s.l_address,handleChange:N,handleBlur:y,mode:3,disabled:!0}),O.l_address&&B.l_address?(0,w.jsx)(i.A,{title:O.l_address}):null]}),(0,w.jsxs)("div",{children:[(0,w.jsx)(t.A,{placeholder:"Type Mobile Number...",type:"number",label:"Mobile Number",name:"l_mobile_no",formControlName:s.l_mobile_no,handleChange:N,handleBlur:y,mode:1,disabled:!0}),O.l_mobile_no&&B.l_mobile_no?(0,w.jsx)(i.A,{title:O.l_mobile_no}):null]}),(0,w.jsxs)("div",{children:[(0,w.jsx)(t.A,{placeholder:"Type Loan Through Branch...",type:"text",label:"Loan Through Branch",name:"l_loan_through_branch",formControlName:s.l_loan_through_branch,handleChange:N,handleBlur:y,data:null===F||void 0===F?void 0:F.map((e=>({code:null===e||void 0===e?void 0:e.sl_no,name:null===e||void 0===e?void 0:e.branch_name}))),mode:2,disabled:"A"===G||"R"===G}),O.l_loan_through_branch&&B.l_loan_through_branch?(0,w.jsx)(i.A,{title:O.l_loan_through_branch}):null]}),(0,w.jsxs)("div",{children:[(0,w.jsx)(t.A,{placeholder:"Type Applied For...",type:"text",label:"Applied For",name:"l_applied_for",formControlName:s.l_applied_for,handleChange:N,handleBlur:y,data:null===k||void 0===k?void 0:k.map((e=>({code:null===e||void 0===e?void 0:e.sl_no,name:null===e||void 0===e?void 0:e.loan_type}))),mode:2,disabled:"A"===G||"R"===G}),console.log("=========",s.l_applied_for),O.l_applied_for&&B.l_applied_for?(0,w.jsx)(i.A,{title:O.l_applied_for}):null]}),(0,w.jsxs)("div",{children:[(0,w.jsx)(t.A,{placeholder:"Type Loan Amount...",type:"number",label:"Loan Amount",name:"l_loan_amount",formControlName:s.l_loan_amount,handleChange:N,handleBlur:y,mode:1,disabled:"A"===G||"R"===G}),O.l_loan_amount&&B.l_loan_amount?(0,w.jsx)(i.A,{title:O.l_loan_amount}):null]}),(0,w.jsxs)("div",{children:[(0,w.jsx)(t.A,{placeholder:"Type Duration...",type:"number",label:"Duration (In Months)",name:"l_duration",formControlName:s.l_duration,handleChange:N,handleBlur:y,mode:1,disabled:"A"===G||"R"===G}),O.l_duration&&B.l_duration?(0,w.jsx)(i.A,{title:O.l_duration}):null]})]}),(0,w.jsx)(_.A,{indicator:(0,w.jsx)(g.A,{spin:!0}),size:"large",className:"text-red-800 dark:text-gray-400",spinning:l,children:(0,w.jsxs)("div",{className:"mt-10 text-red-800",children:[(0,w.jsx)("div",{className:"text-lg font-bold",children:"Uploaded Files"}),(0,w.jsx)("div",{className:"grid grid-cols-4 gap-4 place-items-start mt-3",children:null===X||void 0===X?void 0:X.map(((l,d)=>(0,w.jsxs)("div",{children:[(0,w.jsx)(t.A,{placeholder:"Entered File Name...",type:"text",label:"File Name",formControlName:null===l||void 0===l?void 0:l.file_name,disabled:!0,mode:1}),(0,w.jsx)("div",{className:"mt-3 text-blue-500",children:(0,w.jsx)("a",{href:c.O+"/"+(null===l||void 0===l?void 0:l.file_path),target:"__blank",children:(0,w.jsx)(b.A,{className:"text-red-800 text-6xl"})})}),(0,w.jsx)("div",{className:"-mt-6",children:(0,w.jsx)(h.A,{title:"Delete file?",description:"Are you sure to delete this file?",onConfirm:n=>{(async(l,d,n)=>{a(!0),l.preventDefault();const o={application_no:+(null===e||void 0===e?void 0:e.id),sl_no:+n};await m.A.post("".concat(c.O,"/sql/update_file"),o).then((e=>{var l,a;1===(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.suc)?(ee((e=>e.filter(((e,l)=>l!==d)))),(0,u.Q)("success",null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.msg)):(0,u.Q)("error","Not deleted!")})).catch((e=>{(0,u.Q)("error","Some error occurred while deleting a file.")})),a(!1)})(n,d,null===l||void 0===l?void 0:l.sl_no)},onCancel:()=>null,okText:"Delete",cancelText:"Cancel",okType:"link",okButtonProps:{style:{backgroundColor:"#5f49cc",color:"#ffffff"}},children:"A"!==G&&"R"!==G&&(0,w.jsx)(x.A,{className:"text-[#5f49cc] text-xl ml-40 hover:animate-pulse hover:text-black delay-50 duration-50"})})})]},d)))})]})}),"A"!==G&&"R"!==G&&(0,w.jsx)(r.ED,{name:"l_documents",children:e=>{var l;let{push:a,remove:n,insert:o,unshift:r}=e;return(0,w.jsx)(w.Fragment,{children:null===(l=s.l_documents)||void 0===l?void 0:l.map(((e,l)=>{var o;return(0,w.jsxs)(d.Fragment,{children:[(0,w.jsxs)("div",{className:"flex flex-col my-8 border-t-2 border-yellow-200 border-dashed",children:[(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(t.A,{placeholder:"Type File Name...",type:"text",label:"File Name",name:"l_documents[".concat(l,"].l_file_name"),formControlName:e.l_file_name,handleChange:N,handleBlur:y,mode:1})}),(0,w.jsxs)("div",{className:"mt-2",children:[(0,w.jsx)(t.A,{placeholder:"Upload Documents",type:"file",accept:"application/pdf",label:"Upload Documents",name:"l_documents[".concat(l,"].l_file"),handleChange:e=>{const l=e.target.files;l&&Array.from(l).forEach((e=>{(e=>{U((l=>[...l,e]))})(e)}))},handleBlur:y,mode:1}),O.l_file&&B.l_file?(0,w.jsx)(i.A,{title:O.l_file}):null]})]}),(0,w.jsxs)("div",{className:"flex flex-row gap-2 justify-end align-middle",children:[(null===s||void 0===s||null===(o=s.l_documents)||void 0===o?void 0:o.length)>1&&(0,w.jsx)("div",{children:(0,w.jsx)(v.Ay,{className:"rounded-full text-white bg-red-800 border-red-800",onClick:()=>{n(l),(e=>{U(z.filter(((l,a)=>a!==e)))})(l)},icon:(0,w.jsx)(f.A,{})})}),(0,w.jsx)("div",{children:(0,w.jsx)(v.Ay,{className:"rounded-full bg-yellow-400 text-white",onClick:()=>{a({l_file_name:"",l_file:""}),console.log(s.l_documents)},icon:(0,w.jsx)(j.A,{})})})]})]},l)}))})}}),(null===se||void 0===se?void 0:se.length)>0&&(0,w.jsxs)("div",{className:"mt-12 bg-red-50 rounded-xl p-10",children:[(0,w.jsx)("div",{className:"text-xl font-bold text-red-800 mb-4",children:"Comments / Rejection Remarks"}),(0,w.jsx)(C.A,{data:se})]}),(null===X||void 0===X?void 0:X.length)>0&&(0,w.jsxs)("div",{className:"mt-5 grid grid-cols-2 gap-6 border-t-2 border-yellow-200 border-dashed",children:["A"!==G&&"R"!==G?(0,w.jsxs)("div",{className:"col-span-2 mt-4",children:[(0,w.jsx)(t.A,{placeholder:"Select Branch Manager",type:"text",label:"Select Branch Manager",name:"br_mgr",formControlName:de,handleChange:e=>ne(e.target.value),data:null===le||void 0===le?void 0:le.map((e=>({code:null===e||void 0===e?void 0:e.id,name:(null===e||void 0===e?void 0:e.first_name)+" "+(null===e||void 0===e?void 0:e.last_name)}))),mode:2}),de?null:(0,w.jsx)(i.A,{title:"Please Select Branch Manager"})]}):(0,w.jsx)(w.Fragment,{}),"A"!==G&&"R"!==G&&(0,w.jsxs)("div",{className:"col-span-2 mt-4",children:[(0,w.jsx)(t.A,{placeholder:"Remarks...",type:"text",label:"Remarks",formControlName:oe,handleChange:e=>ie(e.target.value),mode:3}),oe?null:(0,w.jsx)(i.A,{title:"Please Enter Remarks"})]})]}),"A"!==G&&"R"!==G?(0,w.jsx)("div",{className:"mt-10",children:(0,w.jsx)(o.A,{mode:"S",rejectBtn:!0,onReject:()=>{pe("R")},sendToText:"Branch Manager",onSendTo:()=>Z(!0),condition:(null===X||void 0===X?void 0:X.length)>0,showSave:!0})}):(0,w.jsx)(p.A,{color:"purple",className:"mt-10 p-5 rounded-lg text-xl font-bold self-center",children:"E-Files forwarded to Branch Manager."})]})})}})})]})}),(0,w.jsx)(S.A,{flag:4,onPress:()=>Z(!W),visible:W,onPressYes:e=>{de&&oe?(Z(!W),pe("A",e)):((0,u.Q)("error","Choose Branch Manager and Write Remarks."),Z(!W))},onPressNo:()=>{Z(!W),(0,u.Q)("warning","User cancelled operation.")}})]})}}}]);
//# sourceMappingURL=761.496f4099.chunk.js.map